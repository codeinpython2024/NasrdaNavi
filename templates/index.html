<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>NasrdaNavi - Campus Navigation</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Mapbox GL CSS -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.css" rel="stylesheet"/>

    <!-- App CSS -->
    <link rel="stylesheet" href="/static/css/variables.css"/>
    <link rel="stylesheet" href="/static/css/main.css"/>
    <link rel="stylesheet" href="/static/css/splash.css"/>
    <link rel="stylesheet" href="/static/css/components.css"/>
    <link rel="stylesheet" href="/static/css/voice.css"/>
    <link rel="stylesheet" href="/static/css/map.css"/>
    <link rel="stylesheet" href="/static/css/mobile.css"/>
</head>

<body>
<!-- Splash Screen -->
<div id="splash">
    <div class="mascot-glow"></div>
    <img src="/static/Vector.png" alt="Navi - Your Navigation Buddy" class="splash-mascot"/>
    <div class="splash-brand">
        <h1 class="splash-title">NasrdaNavi</h1>
        <p class="splash-subtitle">Campus Navigation System</p>
    </div>
    <div class="splash-loader">
        <div class="splash-loader-bar">
            <div class="splash-loader-progress"></div>
        </div>
        <span class="splash-loader-text">Loading</span>
    </div>
    <p class="splash-tagline">Powered by <span>NASRDA</span> — Exploring New Frontiers</p>
</div>

<!-- Mapbox Token -->
<input type="hidden" id="mapbox-token" value="{{ config.MAPBOX_ACCESS_TOKEN }}"/>

<!-- Sidebar -->
<aside class="sidebar">
    <!-- Brand -->
    <div class="sidebar-brand">
        <img src="/static/Vector.png" alt="Navi" class="sidebar-mascot"/>
        <div>
            <div class="sidebar-title">NasrdaNavi</div>
            <div class="sidebar-subtitle">Campus Navigation</div>
        </div>
    </div>

    <!-- Search -->
    <div class="sidebar-section">
        <label class="sidebar-label">Search</label>
        <div class="input-group">
            <input id="searchBox" type="text" class="form-control" placeholder="Buildings, roads...">
            <button id="searchBtn" class="btn btn-primary">Go</button>
        </div>
        <div id="searchResults"></div>
    </div>

    <!-- Department List -->
    <div id="departmentList" class="sidebar-section" style="display:none;">
        <label class="sidebar-label">Departments</label>
        <ul class="list-group" id="departments"></ul>
    </div>

    <!-- Directions -->
    <div class="sidebar-section sidebar-directions">
        <div class="sidebar-label-row">
            <label class="sidebar-label">Directions</label>
            <button id="toggleDirections" class="btn-icon">−</button>
        </div>
        <div id="directionsBody" class="directions-content">
            <p class="text-muted">Click on the map to set start and end points.</p>
        </div>
    </div>

    <!-- Actions -->
    <div class="sidebar-actions">
        <button id="clearBtn" class="btn btn-outline-danger btn-sm">Clear Route</button>
        <button id="nearestBtn" class="btn btn-outline-success btn-sm">Find Nearest</button>
    </div>

    <!-- Footer -->
    <div class="sidebar-footer">
        <span>Powered by <strong>NASRDA</strong></span>
    </div>
</aside>

<!-- Map -->
<div id="map"></div>

<!-- Voice Assistant Mascot -->
<div id="voiceMascot" class="voice-mascot">
    <div id="voiceBubble" class="voice-bubble">Hello! I'm Navi, your navigation assistant.</div>
    <img id="voiceMascotAvatar" src="/static/Vector.png" alt="Navi" class="voice-mascot-avatar"/>
    <div class="voice-mascot-ring"></div>
    <span id="voiceMascotStatus" class="voice-mascot-status">Voice On</span>
</div>

<!-- Scripts -->
<script src="https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- App JS (ES Module) -->
<script type="module" src="/static/js/main.js"></script>
</body>
</html>
